{% extends 'core/base.html' %}

{% block content %}


    <div class = "row mt-3">
		<div class = "col-md-6 col-12 ">
			<h1 class= "text-white display-3">{{subject.name}}</h1>
		</div>
	  <div class = "col-md-6 mx-auto mt-3 ">
		  <a class="btn float-end" style="border-radius:1em; background-color:#2E3440;" href="{% url 'teacher-load-questions-file' subject.id %}" class="text-decoration-none text-dark">Load From File</a>
		  <a class="btn float-end" style="border-radius:1em; background-color:#2E3440" href="{% url 'teacher-edit-questions' subject.id  0 5 %}" class="text-decoration-none text-dark">Edit Questions</a>
		  <a class="btn float-end" style="border-radius:1em; background-color:#2E3440" href="{% url 'teacher-add-session' subject.id %}" class="text-decoration-none text-dark">Create Exam Session</a>
		  <a class="btn float-end" style="border-radius:1em; background-color:#2E3440" href="{% url 'teacher-compute-subject-statistics' subject.pk %}" class="text-decoration-none text-white">Reload The Statistics</a>
	  </div>
	</div>
      	
    


<p class="mt-3 lead">{{subject.description}}</p>
  
<h4 class = "text-white">Number of questions: {{num_questions}}</h4>
<button class="btn mx-auto" style=" border-radius:1em; background-color:#2E3440;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
	Show Subject Statistics
</button>

	<div class="collapse" id="collapseExample">
	  <div class="card shadow-lg text-white rounded-lg p-3 mx-auto" style=" border-radius:1em; background-color:#2E3440;">
		  <div class="row">
			<div class="col-6">
				<h3>Total Sessions : {{subject.statistics.total_sessions}}</h6>
					<h3>Not Started Sessions : {{subject.statistics.not_started_sessions}}</h6>
					<h3>Started Sessions : {{subject.statistics.started_sessions}}</h6>
					<h3>Finished Sessions : {{subject.statistics.finished_sessions}}</h6>
					<h3>Total Exams : {{subject.statistics.total_exams}}</h6>
					<h3>Started Exams : {{subject.statistics.started_exams}}</h6>
					<h3>Finished Exams : {{subject.statistics.finished_exams}}</h6>
			  </div>
			  <div class="col-6">
				<h3>Average Votation Exams 10 : {{subject.statistics.average_votation_exams_10}}</h6>
					<h3>Average Votation Exams 30 : {{subject.statistics.average_votation_exams_30}}</h6>
					<h3>Total Questions : {{subject.statistics.total_questions}}</h6>
					<h3>Correct Questions : {{subject.statistics.correct_questions}}</h6>
					<h3>Blank Questions : {{subject.statistics.blank_questions}}</h6>
					<h3>Wrong Questions : {{subject.statistics.wrong_questions}}</h6>
			  </div>
		  </div>
		  
		
		
	  </div>
	</div>





<br>
  
<h4 class = "text-white">Not Started sessions:</h4>
<div class = "row g-3 mt-3">
	{% for session in sessions %}
		{% if not session.is_started %}  
			{% include "teacher/subject/session-card.html" with session=session%}
		{% endif %}
	{% endfor %}
</div>
    
<h4 class = "text-white">Started sessions:</h4>
<div class = "row g-3 mt-3">
	{% for session in sessions %}
		{% if session.is_started and not session.is_finished %}  
			{% include "teacher/subject/session-card.html" with session=session%}
		{% endif %}
	{% endfor %}
</div>

<h4 class = "text-white">Finished sessions:</h4>
<div class = "row g-3 mt-3">
	{% for session in sessions %}
		{% if session.is_finished %}  
			{% include "teacher/subject/session-card.html" with session=session%}
		{% endif %}
	{% endfor %}
</div>
   
</div>        
{% endblock content %}





